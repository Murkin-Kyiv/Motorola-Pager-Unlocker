// COM Port Settings 
#define COM_Port_Baud_Rate 57600
#define COM_Port_Config SERIAL_8N1

// Arduino SPI Bus Pin Settings 
#define CLK_PIN 13 //Clock/synchro TP9 (SCK)
#define DO_PIN 12 // Output Pin TP20 (SDI)
#define DI_PIN 11 // Inpit Pin TP21 (SD)
#define CS_PIN 10 //Chip select TP2 (SS)
#define CPUR_PIN 9 // CPU reset Pin TP8 (CPUR)


// Termınal Commands
#define READ_ALL 0 //Read all
#define READ_BYTE 1 //Read byte
#define WRITE_BYTE 2 //Write one BYTE
#define WRITE_FILL_BYTE 3 //Write DUMP BY  BYTE
#define EEPROM_SAVE 4 //Save dump to arduino eeprom
#define EEPROM_RESTORE 5 //Restore dump from arduino eeprom
#define EEPROM_SHOW 6 //Show dump from arduino eeprom


//EEPROM Mode
#define CMOS_CLOCK 1000000 //1 MHz 
#define CMOS_BIT_ORDER MSBFIRST // MSBFIRST or LSBFIRST Most Significant Bit (MSB) or Least Significant Bit (LSB)
#define CMOS_MODE SPI_MODE3 // mode = 0.1.2.3 see table in doc CPOL=1 CPHA=1
#define CMOS_CS_OFF HIGH // Turn chip off
#define CMOS_CS_ON LOW // Turn chip on 

// Global variables

String Command = ""; // command string
int Command_Int = 0; // command as integer
byte Data = 0; // байт данных
byte Address = 0; // абсолютный адрес в памяти еепром

// Default dump for LX1
// byte Dump[256] = {};
// byte Dump[256] = {0x2b,0x04,0x20,0x14,0x00,0x00,0xe2,0x00,0xff,0x12,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x29,0x26,0x29,0x50,0x48,0x31,0x51,0x44,0x37,0x45,0x52,0x33,0x53,0x46,0x38,0x47,0x06,0x37,0x32,0x33,0x49,0x5a,0x47,0x32,0x42,0x50,0x4d,0x4d,0x4f,0x54,0x4f,0x52,0x4f,0x4c,0x41,0x20,0x20,0x16,0x66,0x66,0x60,0x10,0x12,0x0b,0x09,0x01,0x02,0x19,0xbc,0x90,0x20,0x50,0xe8,0x98,0xd7,0x1c,0xb9,0x72,0x4e,0x6f,0x6e,0x65,0x00,0x32,0x33,0x00,0x31,0xfa,0xff,0x00,0x05,0x08,0x07,0xec,0x08,0xf2,0x04,0x03,0x84,0x12,0x4d,0xbc,0x00,0x41,0x41,0x41,0x41,0x41,0x41,0x41,0x41,0x41,0x41,0x41,0x41,0x0d,0x05,0x53,0x7b,0x11,0xe1,0x02,0x0c,0x08,0xbc,0x00,0x40,0x90,0x3c,0x01,0x0b,0x07,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00};



// Decode password table
volatile byte Code_Table [37][11] = {
{0x20,0x59,0x4c,0x5a,0x4d,0x41,0x4e,0x31,0x4f,0x42,0x36}, // "_"
{0x30,0x4b,0x58,0x20,0x59,0x4c,0x5a,0x4d,0x41,0x4e,0x31}, // 0
{0x31,0x4f,0x42,0x36,0x43,0x50,0x32,0x51,0x44,0x37,0x45}, // 1
{0x32,0x51,0x44,0x37,0x45,0x52,0x33,0x53,0x46,0x38,0x47}, // 2
{0x33,0x53,0x46,0x38,0x47,0x54,0x34,0x55,0x48,0x39,0x49}, // 3
{0x34,0x55,0x48,0x39,0x49,0x56,0x35,0x57,0x4a,0x30,0x4b}, // 4
{0x35,0x57,0x4a,0x30,0x4b,0x58,0x20,0x59,0x4c,0x5a,0x4d}, // 5
{0x36,0x43,0x50,0x32,0x51,0x44,0x37,0x45,0x52,0x33,0x53}, // 6
{0x37,0x45,0x52,0x33,0x53,0x46,0x38,0x47,0x54,0x34,0x55}, // 7
{0x38,0x47,0x54,0x34,0x55,0x48,0x39,0x49,0x56,0x35,0x57}, // 8
{0x39,0x49,0x56,0x35,0x57,0x4a,0x30,0x4b,0x58,0x20,0x59}, // 9
{0x41,0x4e,0x31,0x4f,0x42,0x36,0x43,0x50,0x32,0x51,0x44}, // A
{0x42,0x36,0x43,0x50,0x32,0x50,0x44,0x37,0x45,0x52,0x33}, // B
{0x43,0x50,0x32,0x51,0x44,0x37,0x45,0x52,0x33,0x53,0x46}, // C
{0x44,0x37,0x45,0x52,0x33,0x53,0x46,0x38,0x47,0x54,0x34}, // D
{0x45,0x52,0x33,0x53,0x46,0x38,0x47,0x54,0x34,0x55,0x48}, // E
{0x46,0x38,0x47,0x54,0x34,0x55,0x48,0x39,0x49,0x56,0x35}, // F
{0x47,0x54,0x34,0x55,0x48,0x39,0x49,0x56,0x35,0x57,0x4a}, // G
{0x48,0x39,0x49,0x56,0x35,0x57,0x4a,0x30,0x49,0x58,0x20}, // H 
{0x49,0x56,0x35,0x57,0x4a,0x30,0x4b,0x58,0x20,0x59,0x4c}, // I
{0x4A,0x30,0x4b,0x58,0x20,0x59,0x4c,0x5a,0x4d,0x41,0x4e}, // J 
{0x4B,0x58,0x20,0x59,0x4c,0x5a,0x4d,0x41,0x4e,0x30,0x4f}, // K
{0x4C,0x5a,0x4d,0x41,0x4e,0x31,0x4f,0x42,0x36,0x43,0x50}, // L
{0x4D,0x41,0x4e,0x31,0x4f,0x42,0x36,0x43,0x50,0x32,0x51}, // M
{0x4E,0x31,0x4f,0x42,0x36,0x43,0x50,0x32,0x51,0x44,0x37}, // N
{0x4F,0x42,0x36,0x43,0x50,0x32,0x51,0x44,0x37,0x45,0x52}, // O
{0x50,0x32,0x51,0x44,0x37,0x45,0x52,0x33,0x53,0x46,0x38}, // P
{0x51,0x44,0x37,0x45,0x52,0x33,0x53,0x46,0x38,0x47,0x54}, // Q
{0x52,0x33,0x53,0x46,0x38,0x47,0x54,0x34,0x55,0x48,0x39}, // R
{0x53,0x46,0x38,0x47,0x54,0x34,0x55,0x48,0x39,0x49,0x56}, // S
{0x54,0x34,0x55,0x48,0x39,0x49,0x56,0x35,0x57,0x4a,0x30}, // T
{0x55,0x48,0x39,0x49,0x56,0x35,0x57,0x4a,0x30,0x4b,0x58}, // U
{0x56,0x35,0x57,0x4a,0x30,0x4b,0x58,0x20,0x59,0x4c,0x5a}, // V
{0x57,0x4a,0x30,0x4b,0x58,0x20,0x59,0x4c,0x5a,0x4d,0x41}, // W
{0x58,0x20,0x59,0x4c,0x5a,0x4d,0x41,0x4e,0x31,0x4f,0x42}, // X
{0x59,0x4c,0x5a,0x4d,0x41,0x4e,0x31,0x4f,0x42,0x36,0x43}, // Y
{0x5A,0x4d,0x41,0x4e,0x31,0x4f,0x42,0x36,0x43,0x50,0x32}  // Z
};
